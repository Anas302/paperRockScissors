<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="playRock">Rock</button>
    <button id="playPaper">Paper</button>
    <button id="playScissors">Scissors</button>
    <button id="finalize">Show Results</button>
    <div>
        <div id="playerScore">Player Score: </div>
        <div id="compScore">Computer Score: </div>
    </div>
</body>
</html>

<script>

    let playerScore = 0;
    let computerScore = 0;
    let playerScoreDiv = document.querySelector("#playerScore");
    let compScoreDiv = document.querySelector("#compScore");
    startGame();


    function computerSelection(){
        let choice = Math.floor(Math.random()*3 + 1);
        if(choice === 3)
            return "rock";
        else if(choice === 2)
            return "paper";
        else
            return "scissors";
    }

    function playRound(userSelection, computerSelection){
        let whoWon; //'c' = computer, 'p' = player, 'n' = neither

        if(userSelection === "rock"){
            if(computerSelection === "paper"){
                console.log("YOU LOST! paper beats rock");
                whoWon = "c";
            }
            else if(computerSelection === "scissors"){
                console.log("YOU WON! rock beats scissors");
                whoWon = 'p';
            }
            else{
                console.log("TIE! both selected rock");
                whoWon = 'n';
            }
        }
        else if(userSelection === "paper"){
            if(computerSelection === "rock"){
                console.log("YOU WON! paper beats rock");
                whoWon = 'p';
            }
            else if(computerSelection === "scissors"){
                console.log("YOU LOST! scissors beats paper");
                whoWon = 'c';
            }
            else{
                console.log("TIE! both selected paper");     
                whoWon = 'n';
            }       
        }
        else{
            if(computerSelection === "rock"){
                console.log("YOU LOST! paper beats rock");
                whoWon = 'c';
            }
            else if(computerSelection === "paper"){
                console.log("YOU WON! scissors beats paper");
                whoWon = 'p';
            }
            else{
                console.log("TIE! both selected scissors");
                whoWon = 'n';
            }
        }

        if(whoWon === "c")
            computerScore++;
        else if(whoWon === "p")
            playerScore++;

        playerScoreDiv.textContent = "Player Score: " + playerScore;
        compScoreDiv.textContent = "Computer Score: " + computerScore;
    }

    function finalizeGame(){
        if(playerScore > computerScore)
            console.log("-=- THE PLAYER WON -=-");
        else if(playerScore < computerScore)
            console.log("-=- THE COMPUTER WON -=-");
        else
            console.log("-=- IT'S A TIE -=-");
    }

    function startGame(){
        let playerScore = 0;
        let compScore = 0;


        const playRock = document.querySelector("#playRock");
        const playPaper = document.querySelector("#playPaper");
        const playScissors = document.querySelector("#playScissors");
        const finalizeButton = document.querySelector("#finalize");


        playRock.addEventListener("click", e => {
            playRound("rock", computerSelection());
        });

        playPaper.addEventListener("click", e => {
            playRound("scissors", computerSelection());
        });

        playScissors.addEventListener("click", e => {
            playRound("paper", computerSelection());
        });

        finalizeButton.addEventListener("click", e => {
            finalizeGame();
        });
    }

</script>