<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>

<script>

    startGame();


    function computerSelection(){
        let choice = Math.floor(Math.random()*3 + 1);
        if(choice === 3)
            return "rock";
        else if(choice === 2)
            return "paper";
        else
            return "scissors";
    }


    function playRound(userSelection, computerSelection){
        let whoWon; //'c' = computer, 'p' = player, 'n' = neither

        if(userSelection === "rock"){
            if(computerSelection === "paper"){
                console.log("YOU LOST! paper beats rock");
                whoWon = "c";
            }
            else if(computerSelection === "scissors"){
                console.log("YOU WON! rock beats scissors");
                whoWon = 'p';
            }
            else{
                console.log("TIE! both selected rock");
                whoWon = 'n';
            }
        }
        else if(userSelection === "paper"){
            if(computerSelection === "rock"){
                console.log("YOU WON! paper beats rock");
                whoWon = 'p';
            }
            else if(computerSelection === "scissors"){
                console.log("YOU LOST! scissors beats paper");
                whoWon = 'c';
            }
            else{
                console.log("TIE! both selected paper");     
                whoWon = 'n';
            }       
        }
        else{
            if(computerSelection === "rock"){
                console.log("YOU LOST! paper beats rock");
                whoWon = 'c';
            }
            else if(computerSelection === "paper"){
                console.log("YOU WON! scissors beats paper");
                whoWon = 'p';
            }
            else{
                console.log("TIE! both selected scissors");
                whoWon = 'n';
            }
        }
        return whoWon;
    }


    function playerSelection(){
        let choice = prompt("Enter your choice: ");
        choice = choice.toLowerCase();
        while(choice != "rock" ^ choice != "paper" ^ choice != "scissors")
            choice = prompt("Please enter a valid choice, you entered " + choice + ":");
        
        return choice;
    }


    function startGame(){
        let playerScore = 0;
        let compScore = 0;

        for(let i = 0; i<5; i++){
            console.log("-=-=-=- GAME " + (i+1) + " -=-=-=-");
            const playerChoice = playerSelection();
            const compChoice = computerSelection();
            const playerWon = playRound(playerChoice, compChoice);

            if(playerWon === 'p')
                playerScore++;
            else if(playerWon === 'c')
                compScore++;
        }

        if(playerScore > compScore)
            console.log("-=- THE PLAYER WON -=-");
        else if(playerScore < compScore)
            console.log("-=- THE COMPUTER WON -=-");
        else
            console.log("-=- IT'S A TIE -=-");
    }

</script>